(this["webpackJsonpcrypto-trading"]=this["webpackJsonpcrypto-trading"]||[]).push([[2],{125:function(e,t,a){e.exports=a(211)},135:function(e,t,a){},161:function(e,t,a){},162:function(e,t,a){},180:function(e,t,a){},208:function(e,t,a){},210:function(e,t,a){},211:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(27),r=a.n(l),o=a(35),s=a(7),i=a(228),m=a(58),u=a(74),d=a.n(u),p=a(86),E=a(47),h=a(6),f=a(229),b=a(57),g=a(115),v=a.n(g),y=a(116),k=a.n(y),N=a(117),j=a.n(N),O=a(69),_=a.n(O),S=a(85),w=a(52),x=a(59),z=(a(135),function(e){var t=e.history;return c.a.createElement(c.a.Fragment,null,c.a.createElement(w.a,{expand:"md"},c.a.createElement("div",{className:"navbar_top"},c.a.createElement(w.a.Brand,{to:"/dashboard/trade"},c.a.createElement(o.b,{to:"/dashboard/trade"},c.a.createElement(_.a,{fontSize:"large",className:"icon_logo"})))),c.a.createElement(w.a.Toggle,{"aria-controls":"basic-navbar-nav"}),c.a.createElement(w.a.Collapse,{className:"collapse navbar-collapse",id:"navbarSupportedContent"},c.a.createElement(S.a,{className:"mr-auto"},c.a.createElement(o.b,{className:"link mt-md-4",to:"/dashboard/trade"},c.a.createElement("span",{className:"navbar_items"},c.a.createElement(v.a,{fontSize:"large",className:"icon"})),c.a.createElement("span",{className:"navbar_items"},"TRADE")),c.a.createElement(o.b,{className:"link",to:"/dashboard/deposit"},c.a.createElement("span",{className:"navbar_items"},c.a.createElement(k.a,{fontSize:"large",className:"icon"})),c.a.createElement("span",{className:"navbar_items"},"DEPOSIT")),c.a.createElement(S.a,{className:"align_bottom"},c.a.createElement("span",{className:"link",onClick:function(){x.a.signout(),t.push("/")}},c.a.createElement("span",{className:"navbar_items"},c.a.createElement(j.a,{fontSize:"large",className:"icon"})),c.a.createElement("span",{className:"navbar_items"},"SIGN OUT")))))))}),I=a(118),A=(a(161),function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"history_top"},"History"),c.a.createElement("div",{className:"history_main"},c.a.createElement(I.Scrollbars,null,e.history.map((function(e,t){return null!==e?c.a.createElement("div",{key:t,className:"history_element"},c.a.createElement("h5",null,e.firstname+" "+e.lastname),c.a.createElement("p",null,c.a.createElement("span",{className:"sold"===e.action?"title_sold":"title_purchased"},e.action.toUpperCase())," ",e.date.split(" ")[1]," "),c.a.createElement("span",null," ",e.amount," ",e.currency)):null})))))}),B=function(e){return c.a.createElement(c.a.Fragment,null,c.a.createElement("span",null,e.balance))},C=(a(162),a(225)),P=a(226),F=a(227),T=function(e){return c.a.createElement(C.a,{fluid:!0},c.a.createElement(P.a,{className:"panel_wrapper"},c.a.createElement(F.a,{className:"panel_element_start",sx:6},c.a.createElement("div",{className:"panel_first"},c.a.createElement("span",null,e.holdings[0].crypto?e.holdings[0].crypto:"0"),c.a.createElement("span",{className:"panel_value"}," ",e.holdings[0].amount?e.holdings[0].amount:"0")),c.a.createElement("div",{className:"panel_second"},c.a.createElement("span",null,e.holdings[1].crypto?e.holdings[1].crypto:"0"),c.a.createElement("span",{className:"panel_value"}," ",e.holdings[1].amount?e.holdings[1].amount:"0"))),c.a.createElement(F.a,{className:"panel_element_end",sx:6},c.a.createElement("div",{className:"panel_balance"},c.a.createElement("span",null,c.a.createElement(B,e)," Kr")))))},D=a(54),H=a.n(D),L=a(119),J=a(83),R=(a(180),function(e){var t=e.component,a=Object(h.a)(e,["component"]),l=localStorage.getItem("token"),r="".concat("https://jsramverk-paka17.azurewebsites.net","/"),o=Object(b.a)(r),i=Object(s.g)(),u=Object(n.useState)(0),g=Object(E.a)(u,2),v=g[0],y=g[1],k=c.a.useState([]),N=Object(E.a)(k,2),j=N[0],O=N[1],_=Object(n.useState)(!1),S=Object(E.a)(_,2),w=S[0],I=S[1],B=Object(n.useState)([{crypto:"BitCoin",amount:0},{crypto:"BitConnect",amount:0}]),C=Object(E.a)(B,2),P=C[0],F=C[1],D=function(){return I(!1)};H.a.interceptors.request.use(function(){var e=Object(p.a)(d.a.mark((function e(t){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=localStorage.getItem("token"))&&R(a)&&I(!0),t.headers.token=a,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());var R=function(e){if(e){var t=Object(L.a)(e);if(t&&t.exp)return Date.now()-1e3>=1e3*t.exp}};Object(n.useEffect)((function(){return o.on("history",(function(e){O((function(t){return[e].concat(Object(m.a)(t))}))})),function(){o.off("history")}}),[]);var U=function(){x.a.signout(),i.push("/")},W=function(){H()({method:"get",headers:{"x-access-token":l},url:"".concat("https://jsramverk-paka17.azurewebsites.net","/wallet/balance")}).then((function(e){y(e.data.response.balance)})).catch((function(e){console.log(e)}))},q=function(){H()({method:"get",headers:{"x-access-token":l},url:"".concat("https://jsramverk-paka17.azurewebsites.net","/holdings/show")}).then((function(e){console.log("VAD H\xc4NDER",e),F(e.data.row)})).catch((function(e){console.error(e)}))};return Object(n.useEffect)((function(){W(),q()}),[l]),localStorage.getItem("token")?c.a.createElement(c.a.Fragment,null,c.a.createElement(s.b,Object.assign({},a,{render:function(e){return c.a.createElement("section",{className:"main hbox space-between"},c.a.createElement("nav",null,c.a.createElement(z,e)),c.a.createElement("article",null,c.a.createElement(T,Object.assign({},e,{balance:v,holdings:P})),c.a.createElement(t,Object.assign({},e,{balance:v,holdings:P,history:j,fetchBalance:W.bind(void 0),fetchHoldings:q.bind(void 0)}))),c.a.createElement("aside",{className:"historyPanel"},c.a.createElement(A,{history:j})),c.a.createElement(f.a,{show:w,onHide:D,backdrop:"static",keyboard:!1,centered:!0},c.a.createElement(f.a.Header,{closeButton:!0},c.a.createElement(f.a.Title,null,"Authenticate token expired.")),c.a.createElement(f.a.Body,null,"Authenticate token expired."),c.a.createElement(f.a.Footer,null,c.a.createElement(J.a,{variant:"secondary",onClick:U},"Logout"),c.a.createElement(J.a,{variant:"primary"},"Stay logged in"))))}}))):c.a.createElement(s.a,{to:"/"})}),U=(a(208),function(e){var t=e.component,a=Object(h.a)(e,["component"]),l="".concat("https://jsramverk-paka17.azurewebsites.net","/"),r=Object(b.a)(l);return Object(n.useEffect)((function(){return function(){r.off("history"),r.off("crypto")}}),[]),localStorage.getItem("token")?c.a.createElement(s.a,{to:"/dashboard/trade"}):c.a.createElement(s.b,Object.assign({},a,{render:function(e){return c.a.createElement(C.a,{fluid:!0},c.a.createElement(P.a,{className:"landing_page"},c.a.createElement(F.a,{md:5,className:"landing_page_left"},c.a.createElement(t,e)),c.a.createElement(F.a,{md:4,className:"center"},c.a.createElement(_.a,{fontSize:"large",className:"landing_page_right"}))))}}))}),W=(a(209),a(210),a(84)),q=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(10)]).then(a.bind(null,610))})),G=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(7)]).then(a.bind(null,612))})),K=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(6)]).then(a.bind(null,614))})),V=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(4),a.e(9)]).then(a.bind(null,618))})),$=Object(n.lazy)((function(){return Promise.all([a.e(0),a.e(1),a.e(8)]).then(a.bind(null,615))})),M=Object(n.lazy)((function(){return a.e(11).then(a.bind(null,616))})),Q=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(o.a,null,c.a.createElement(n.Suspense,{fallback:c.a.createElement("div",{style:W.loadingStyle},c.a.createElement("h6",null,"Loading... "),c.a.createElement(i.a,{style:W.loadingIconStyle}))},c.a.createElement(s.d,null,c.a.createElement(U,{path:"/",exact:!0,component:q}),c.a.createElement(U,{path:"/signup",component:G}),c.a.createElement(U,{path:"/signin",component:K}),c.a.createElement(R,{path:"/dashboard/trade",component:V}),c.a.createElement(R,{path:"/dashboard/deposit",component:$}),c.a.createElement(s.b,{component:M})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(c.a.createElement(Q,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},59:function(e,t,a){"use strict";var n={isAuthenticated:!1,token:"",authenticate:function(e,t){localStorage.setItem("token",e),localStorage.setItem("username",t),this.token=e,this.isAuthenticated=!0},signout:function(){localStorage.removeItem("token"),localStorage.removeItem("username"),this.isAuthenticated=!1},getAuth:function(){return this.isAuthenticated},getToken:function(){return this.token}};t.a=n},84:function(e,t){e.exports={loadingIconStyle:{marginLeft:"20px"},loadingStyle:{height:"100vh",display:"flex",justifyContent:"center",alignItems:"center",background:"#2f303e",color:"lightgrey"}}}},[[125,3,5]]]);
//# sourceMappingURL=main.b66ad127.chunk.js.map